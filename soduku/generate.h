#pragma once
#include "IO.h"
#include <string>

class generator
{
private:
	int numToGen;
	OutFile &writeFile;
	char changelist[144][9] =
	{
		{0,3,6,1,4,7,2,5,8},
		{0,3,6,1,4,7,2,8,5},
		{0,3,6,1,4,7,5,2,8},
		{0,3,6,1,4,7,5,8,2},
		{0,3,6,1,4,7,8,2,5},
		{0,3,6,1,4,7,8,5,2},

		{0,3,6,1,7,4,2,5,8},
		{0,3,6,1,7,4,2,8,5},
		{0,3,6,1,7,4,5,2,8},
		{0,3,6,1,7,4,5,8,2},
		{0,3,6,1,7,4,8,2,5},
		{0,3,6,1,7,4,8,5,2},

		{0,3,6,4,1,7,2,5,8},
		{0,3,6,4,1,7,2,8,5},
		{0,3,6,4,1,7,5,2,8},
		{0,3,6,4,1,7,5,8,2},
		{0,3,6,4,1,7,8,2,5},
		{0,3,6,4,1,7,8,5,2},

		{0,3,6,4,7,1,2,5,8},
		{0,3,6,4,7,1,2,8,5},
		{0,3,6,4,7,1,5,2,8},
		{0,3,6,4,7,1,5,8,2},
		{0,3,6,4,7,1,8,2,5},
		{0,3,6,4,7,1,8,5,2},

		{0,3,6,7,1,4,2,5,8},
		{0,3,6,7,1,4,2,8,5},
		{0,3,6,7,1,4,5,2,8},
		{0,3,6,7,1,4,5,8,2},
		{0,3,6,7,1,4,8,2,5},
		{0,3,6,7,1,4,8,5,2},

		{0,3,6,7,4,1,2,5,8},
		{0,3,6,7,4,1,2,8,5},
		{0,3,6,7,4,1,5,2,8},
		{0,3,6,7,4,1,5,8,2},
		{0,3,6,7,4,1,8,2,5},
		{0,3,6,7,4,1,8,5,2},

		{0,6,3,1,4,7,2,5,8},
		{0,6,3,1,4,7,2,8,5},
		{0,6,3,1,4,7,5,2,8},
		{0,6,3,1,4,7,5,8,2},
		{0,6,3,1,4,7,8,2,5},
		{0,6,3,1,4,7,8,5,2},

		{0,6,3,1,7,4,2,5,8},
		{0,6,3,1,7,4,2,8,5},
		{0,6,3,1,7,4,5,2,8},
		{0,6,3,1,7,4,5,8,2},
		{0,6,3,1,7,4,8,2,5},
		{0,6,3,1,7,4,8,5,2},

		{0,6,3,4,1,7,2,5,8},
		{0,6,3,4,1,7,2,8,5},
		{0,6,3,4,1,7,5,2,8},
		{0,6,3,4,1,7,5,8,2},
		{0,6,3,4,1,7,8,2,5},
		{0,6,3,4,1,7,8,5,2},

		{0,6,3,4,7,1,2,5,8},
		{0,6,3,4,7,1,2,8,5},
		{0,6,3,4,7,1,5,2,8},
		{0,6,3,4,7,1,5,8,2},
		{0,6,3,4,7,1,8,2,5},
		{0,6,3,4,7,1,8,5,2},

		{0,6,3,7,1,4,2,5,8},
		{0,6,3,7,1,4,2,8,5},
		{0,6,3,7,1,4,5,2,8},
		{0,6,3,7,1,4,5,8,2},
		{0,6,3,7,1,4,8,2,5},
		{0,6,3,7,1,4,8,5,2},

		{0,6,3,7,4,1,2,5,8},
		{0,6,3,7,4,1,2,8,5},
		{0,6,3,7,4,1,5,2,8},
		{0,6,3,7,4,1,5,8,2},
		{0,6,3,7,4,1,8,2,5},
		{0,6,3,7,4,1,8,5,2},


		{0,3,6,2,5,8,1,4,7},
		{0,3,6,2,8,5,1,4,7},
		{0,3,6,5,2,8,1,4,7},
		{0,3,6,5,8,2,1,4,7},
		{0,3,6,8,2,5,1,4,7},
		{0,3,6,8,5,2,1,4,7},

		{0,3,6,2,5,8,1,7,4},
		{0,3,6,2,8,5,1,7,4},
		{0,3,6,5,2,8,1,7,4},
		{0,3,6,5,8,2,1,7,4},
		{0,3,6,8,2,5,1,7,4},
		{0,3,6,8,5,2,1,7,4},

		{0,3,6,2,5,8,4,1,7},
		{0,3,6,2,8,5,4,1,7},
		{0,3,6,5,2,8,4,1,7},
		{0,3,6,5,8,2,4,1,7},
		{0,3,6,8,2,5,4,1,7},
		{0,3,6,8,5,2,4,1,7},

		{0,3,6,2,5,8,4,7,1},
		{0,3,6,2,8,5,4,7,1},
		{0,3,6,5,2,8,4,7,1},
		{0,3,6,5,8,2,4,7,1},
		{0,3,6,8,2,5,4,7,1},
		{0,3,6,8,5,2,4,7,1},

		{0,3,6,2,5,8,7,1,4},
		{0,3,6,2,8,5,7,1,4},
		{0,3,6,5,2,8,7,1,4},
		{0,3,6,5,8,2,7,1,4},
		{0,3,6,8,2,5,7,1,4},
		{0,3,6,8,5,2,7,1,4},

		{0,3,6,2,5,8,7,4,1},
		{0,3,6,2,8,5,7,4,1},
		{0,3,6,5,2,8,7,4,1},
		{0,3,6,5,8,2,7,4,1},
		{0,3,6,8,2,5,7,4,1},
		{0,3,6,8,5,2,7,4,1},

		{0,6,3,2,5,8,1,4,7},
		{0,6,3,2,8,5,1,4,7},
		{0,6,3,5,2,8,1,4,7},
		{0,6,3,5,8,2,1,4,7},
		{0,6,3,8,2,5,1,4,7},
		{0,6,3,8,5,2,1,4,7},

		{0,6,3,2,5,8,1,7,4},
		{0,6,3,2,8,5,1,7,4},
		{0,6,3,5,2,8,1,7,4},
		{0,6,3,5,8,2,1,7,4},
		{0,6,3,8,2,5,1,7,4},
		{0,6,3,8,5,2,1,7,4},

		{0,6,3,2,5,8,4,1,7},
		{0,6,3,2,8,5,4,1,7},
		{0,6,3,5,2,8,4,1,7},
		{0,6,3,5,8,2,4,1,7},
		{0,6,3,8,2,5,4,1,7},
		{0,6,3,8,5,2,4,1,7},

		{0,6,3,2,5,8,4,7,1},
		{0,6,3,2,8,5,4,7,1},
		{0,6,3,5,2,8,4,7,1},
		{0,6,3,5,8,2,4,7,1},
		{0,6,3,8,2,5,4,7,1},
		{0,6,3,8,5,2,4,7,1},

		{0,6,3,2,5,8,7,1,4},
		{0,6,3,2,8,5,7,1,4},
		{0,6,3,5,2,8,7,1,4},
		{0,6,3,5,8,2,7,1,4},
		{0,6,3,8,2,5,7,1,4},
		{0,6,3,8,5,2,7,1,4},

		{0,6,3,2,5,8,7,4,1},
		{0,6,3,2,8,5,7,4,1},
		{0,6,3,5,2,8,7,4,1},
		{0,6,3,5,8,2,7,4,1},
		{0,6,3,8,2,5,7,4,1},
		{0,6,3,8,5,2,7,4,1},
	};
	char theFirstLine[9] = {0};
	char tableBuf[9][9] = {0};
	char lineBuf[18] = {0};
	std::string outbuf;
public:
	generator(int numToGen_, OutFile &writeFile_, char firstElement = 3) ;
	bool run();
private:
	bool output(bool withExtralEndl = true);
	bool flush();
};